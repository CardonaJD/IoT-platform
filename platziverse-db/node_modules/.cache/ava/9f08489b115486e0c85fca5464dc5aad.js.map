{"version":3,"sources":["tests\\agent-tests.js"],"names":["test","require","proxyquire","config","logging","MetricStub","belongsTo","AgentStub","db","beforeEach","hasMany","setupDatabase","t","truthy","Agent"],"mappings":"AAAA;;;;;AAEA,MAAMA,IAAI,GAAGC,OAAO,CAAC,KAAD,CAApB;;AACA,MAAMC,UAAU,GAAGD,OAAO,CAAC,YAAD,CAA1B;;AAEA,IAAIE,MAAM,GAAG;AACTC,EAAAA,OAAO,EAAE,YAAW,CAAE;AADb,CAAb;AAIA,IAAIC,UAAU,GAAG;AACbC,EAAAA,SAAS,EAAE,YAAW,CAAE;AADX,CAAjB;AAIA,IAAIC,SAAS,GAAG,IAAhB;AACA,IAAIC,EAAE,GAAG,IAAT;AAEAR,IAAI,CAACS,UAAL,CAAgB,YAAW;AACvBF,EAAAA,SAAS,GAAG;AACRG,IAAAA,OAAO,EAAE,YAAW,CAAE;AADd,GAAZ;AAIA,QAAMC,aAAa,GAAGT,UAAU,CAAC,KAAD,EAAQ;AACpC,sBAAkB,MAAMK,SADY;AAEpC,uBAAmB,MAAMF;AAFW,GAAR,CAAhC;AAKAG,EAAAA,EAAE,GAAG,MAAMG,aAAa,CAACR,MAAD,CAAxB;AACH,CAXD;AAaAH,IAAI,CAAC,OAAD,EAAUY,CAAC,IAAI;AAAA;;AACfA,EAAAA,CAAC,CAACC,MAAF,uBAAS,WAAAL,EAAE,uBAAF,CAAGM,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAmB,4BAAnB;AACH,CAFG,CAAJ","sourceRoot":"C:\\Users\\Jose David\\Desktop\\programacion\\PLATZI\\advancedNode\\platziverse\\platziverse-db","sourcesContent":["'use strict'\r\n\r\nconst test = require('ava')\r\nconst proxyquire = require('proxyquire')\r\n\r\nlet config = {\r\n    logging: function() {}\r\n}\r\n\r\nlet MetricStub = {\r\n    belongsTo: function() {}\r\n}\r\n\r\nlet AgentStub = null\r\nlet db = null\r\n\r\ntest.beforeEach(async() => {\r\n    AgentStub = {\r\n        hasMany: function() {}\r\n    }\r\n\r\n    const setupDatabase = proxyquire('../', {\r\n        './models/agent': () => AgentStub,\r\n        './models/metric': () => MetricStub\r\n    })\r\n\r\n    db = await setupDatabase(config)\r\n})\r\n\r\ntest('Agent', t => {\r\n    t.truthy(db.Agent, 'Agent service should exist')\r\n})"]}